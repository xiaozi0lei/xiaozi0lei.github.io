---
layout: post
title:  "项目锻炼1"
date:   2017-03-08 11:38:57 +0800
categories: project
---

## 项目计划书

### 立项目的
随着业务飞速发展，项目不断扩大，人工测试投入越来越大，测试效率下降明显。为了提高测试效率，保证产品质量，引入自动化测试将是一种有效的解决途径。
### 国内外情况
国外互联网企业非常看重自动化测试带来的效益，Google、微软、FaceBook等互联网巨头在软件开发的不同阶段都投入人力进行自动化测试的探索，研究和开发工作，保证软件后期的测试效率。Google有专门的基础设施生产力部门，微软投入大量人力研发自动化测试工具供自己产品使用，FaceBook所有的研发人员都要负担起自己工作的自动化测试。这些优秀的国外企业通过实践总结出宝贵的经验可以让我们借鉴和使用。
作为互联网行业的翘楚，Google 公司不但实现了传统的自动化测试流程。而且，谷歌已经将提交BUG的过程和一些手动测试的日常工作也自动化了，例如，如果一个自动化测试运行失败，系统会自动检测到最后一次代码变更的信息，一般来说这是引起测试失败的原因，系统会给这次代码提交的作者发送一封通知邮件同时自动创建一个BUG来记录这个问题。在测试上，“人类智慧的最后一英寸”体现在测试设计上，谷歌的下一代测试工具也正在这个方向上努力尝试，将其自动化。
国内整个行业的自动化测试起步较晚，各大公司都在积极探索和实现适合自身的自动化测试方案。百度作为互联网行业占据重要地位的大公司，在自动化测试方面已经取得可喜的成就，实现了大规模的自动化运维，自动化部署，云测试等自动化方面的巨大成就，在国内自动化领域起到带头作用。不可否认的自动化测试会带来很多好处：
1）对于功能已经完整和成熟的软件，每发布一个新的版本，其中大部分功能和界面都和上一个版本相似或完全相同，这部分功能特别适合于自动化测试， 从而可以让测试达到测试每个特征的目的。
2）每日测试的高效率。DCC版本的发布周期往往比较短，也就是开发周期只有短短的几个月，而在测试期间是每天/每2天都要发布一个版本供测试人员测试，一个系统的功能点有几千个上万个，人工测试是非常的耗时和繁琐，这样必然会使测试效率低下。
3）具有一致性和可重复性。由于每次自动化测试运行的脚本是相同的, 所以每次执行的测试具有一致性, 人是很难做到的. 由于自动化测试的一致性，很容易发现被测软件的任何改变。
4）更好的利用资源－－周未/晚上。理想的自动化测试能够按计划完全自动的运行, 在开发人员和测试人员不可能实行三班倒的情况下, 自动化测试可以胜任这个任务, 完全可以在周末和晚上执行测试. 这样充分的利用了公司的资源,也避免了开发和测试之间的等待。
5）解决测试与开发之间的矛盾。通常在开发的末期,进入集成测试阶段, 由于每发布一个版本的初期,测试系统的错误比较少,这时开发人员有等待测试人员测试出错误的时间. 事实上在叠代周期很短的开发模式中，存在更多的矛盾， 但自动化测试可以解决其中的主要矛盾。
6）将烦琐的任务转化为自动化测试。大量重复的测试是非常繁琐的，并且需要消耗大量的人力才能够完成。自动测试能够很好的解决这个问题，不需要繁琐的劳动，不需要大量的人员。
7）增加软件信任度。只有经过大量测试案例测试过的版本才是可靠的，而只有使用自动测试才能够保证在段时间内完成大量的测试案例。
百度游戏依托百度的强大资源，自动化领域的大量经验，在项目规模飞速发展的如今，适时地合理的探索适合自身的自动化测试，将会取得客观的收益和测试效率的极大提高。 
### 实施方案
1、需求调研：对测试框架及测试项目的情况进行分析
2、项目立项：需求确定后正式成立项目组
3、系统开发：根据需求进行开发
4、系统测试：开发完毕进行测试
5、正式使用
### 可行性论证
1、功能性：通过严格的技术开发，完成了全部功能需求，满足并提供了自动化测试在实际使用中的必需功能。
2、可靠性：在系统设计时，充分考虑系统的可靠性与稳定性，通过先进的技术保障，为测试人员提供可靠的服务。
3、易用性：通过优秀的界面和交互设计，为测试人员提供友好舒适的操作体验。
五.技术路线 
从自动化测试框架核心开始，集成现有测试平台，结合项目测试特点开发出统一的自动化测试平台。具体内容包括：
1. JUnit框架作为核心基础
JUnit作为整个测试框架的基础，起到各个模块之间衔接的作用贯穿Jenkins平台和接口、UI测试框架的整个过程。
junit是在极限编程和重构（refactor）中被极力推荐使用的工具，因为在实现自动单元测试的情况下可以大大的提高开发的效率，但是实际上编写测试代码也是需要耗费很多的时间和精力的，但是使用这个工具好处到底在于：
开发过程
要求在编写代码之前先写测试，可以强制在写代码之前好好的思考代码（方法）的功能和逻辑，否则编写的代码很不稳定，那么需要同时维护测试代码和实际代码，这个工作量就会大大增加。因此在极限编程中，基本过程是这样的：构思－> 编写测试代码－> 编写代码－> 测试，而且编写测试和编写代码都是增量式的，写一点测一点，在编写以后的代码中如果发现问题可以较快的追踪到问题的原因，减小回归错误的纠错难度。
重构
其好处和开发过程中是类似的，因为重构也是要求改一点测一点，减少回归错误造成的时间消耗。
其他情况
我们在开发的时候使用junit写一些适当的测试也是有必要的，因为一般我们也是需要编写测试的代码的，可能原来不是使用的junit，如果使用junit，而且针对接口（方法）编写测试代码会减少以后的维护工作，例如以后对方法内部的修改（这个就是相当于重构的工作了）。另外就是因为junit有断言功能，如果测试结果不通过会告诉我们哪个测试不通过，为什么，而如果是像以前的一般做法是写一些测试代码看其输出结果，然后再由自己来判断结果是否正确，使用junit的好处就是这个结果是否正确的判断是它来完成的，我们只需要看看它告诉我们结果是否正确就可以了，在一般情况下会大大提高效率。
2. 分层的架构
脚本录入采用数据驱动的方式，简化测试脚本的书写，提供GUI界面方便测试人员录入脚本数据。采用Jenkins平台触发和管理自动化脚本的运行和数据的整理，结果展示等工作。采用Appium框架负责UI自动化测试，覆盖功能和界面兼容性测试，模拟真实用户操作。
3. Jenkins平台整合持续集成
Jenkins结合GitLab构建一套CI系统，提高测试的频率，保证开发的质量。
Jenkins的主要目标是监控软件开发流程，快速显示问题。所以能保证开发人员以及相关人员省时省力提高效率。
CI系统在整个开发过程中的起到重要作用，当系统在代码存储库中探测到修改时，它将运行构建的任务委托给构建过程本身。如果构建失败了，那么CI系统将通知相关人员，然后继续监视存储库。它的角色看起来是被动的，但它确能快速反映问题。
具有以下优点：
Jenkins一切配置都可以在web界面上完成。有些配置如MAVEN_HOME和Email，只需要配置一次，所有的项目就都能用。当然也可以通过修改XML进行配置。
支持Maven的模块(Module)，Jenkins对Maven做了优化，因此它能自动识别Module，每个Module可以配置成一个job。相当灵活。
测试报告聚合，所有模块的测试报告都被聚合在一起，结果一目了然，使用其他CI，这几乎是件不可能完成的任务。
构件指纹(artifact fingerprint)，每次build的结果构件都被很好的自动管理，无需任何配置就可以方便的浏览下载。
4. Appium框架负责UI自动化测试
Appium是一个移动端的自动化测试框架，可用于测试原生应用，移动网页应用和混合型应用，且是跨平台的。
Appium特点：
支持Native App、Hybird App、Web App；
支持Android、iOS、Firefox OS；
Server也是跨平台的，你可以使用Mac OS X、Windows或者Linux；
它的设计理念：Client/Server架构，运行的时候Server端会监听Client端发过来的命令，翻译这些命令发送给移动设备或模拟器，然后移动设备或模拟器做出响应的反应。正是因为这种架构，所以Client可以使用Appium client libraries多种语言的测试脚本，而且Server端完全可以部署在服务器上，甚至云服务器。Session，每个Client连接到Server以后都会有一个Session ID，而且Client发送命令到Server端都需要这个Session ID，因为这个seesion id代表了你所打开的浏览器或者是移动设备的模拟器。所以你甚至可以打开N个Session，同时测试不同的设备或模拟器。Desired Capabilities，其实就是一个键值对，设置一些测试的相关信息来告诉Server端，我们需要测试iOS、还是Android，或者换是WebApp等信息。Appium Server是Node.js写的，所以可以直接用NPM来进行安装。Appium Clients，Mac OS和Win下提供GUI，不需要装Node.js，方便测试人员操作。
### 进度安排  
阶段  时间  周期  事件及里程碑
前期调研    2016-07-13~2016-07-21   2周  对测试框架和测试项目进行分析
            总结产品需求
原型设计    2016-07-22~2016-07-28   1周  完成需求文档
            需求文档通过专家评审
开发阶段    2016-07-29~2016-09-01   4周  制定接口协议
            实现各项产品功能
测试阶段    2016-09-02~2016-09-16   2周  测试环境搭建，平台集成
            线下功能测试
投入使用    2016-09-17~2016-09-30   2周  上线前数据录入
            上线前使用文档整理
            上线后运营维护


